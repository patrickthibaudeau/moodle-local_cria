{"version":3,"file":"gpt.min.js","sources":["../src/gpt.js"],"sourcesContent":["import $ from 'jquery';\nimport ajax from 'core/ajax';\n\nexport const init = () => {\n    get_response();\n};\n\n/**\n * Delete a content\n */\nfunction get_response() {\n\n    $(\"#submit-question\").off();\n    $(\"#submit-question\").on('click', function () {\n        // rest statistics\n        $('#cria-conversation').html('');\n        $('#cria-prompt-tokens').html(0);\n        $('#cria-completion-tokens').html(0);\n        $('#cria-total-tokens').html(0);\n        $('#cria-cost').html('$0.00');\n\n        var bot_id = $(this).data('bot_id');\n        var prompt =\n            $('#default-user-prompt').val() +\n            $('#user-prompt').val();\n        var content =\n            $('#cria-test-input').val() ;\n        var chat_id = $('#cria-chat-id').val();\n        $(\"#submit-question\").hide();\n        $(\"#starting-process\").show();\n        //Delete the record\n        var gpt_response = ajax.call([{\n            methodname: 'cria_get_gpt_response',\n            args: {\n                bot_id: bot_id,\n                chat_id: chat_id,\n                prompt: prompt,\n                content: content\n            }\n        }]);\n\n        gpt_response[0].done(function (result) {\n             $(\"#submit-question\").show();\n            $(\"#starting-process\").hide();\n            $('#cria-conversation').append().html(`${result.message}`);\n            $('#cria-prompt-tokens').html(result.prompt_tokens);\n            $('#cria-completion-tokens').html(result.completion_tokens);\n            $('#cria-total-tokens').html(result.total_tokens);\n            $('#cria-cost').html('$' + result.cost.toPrecision(6));\n        }).fail(function (e) {\n            alert(e.message + ' Your prompt contains unsupported characters. ' +\n                'Please try again.');\n            location.reload();\n        });\n    });\n}"],"names":["off","on","html","bot_id","this","data","prompt","val","content","chat_id","hide","show","ajax","call","methodname","args","done","result","append","message","prompt_tokens","completion_tokens","total_tokens","cost","toPrecision","fail","e","alert","location","reload"],"mappings":"oVAGoB,yBASd,oBAAoBA,0BACpB,oBAAoBC,GAAG,SAAS,+BAE5B,sBAAsBC,KAAK,wBAC3B,uBAAuBA,KAAK,uBAC5B,2BAA2BA,KAAK,uBAChC,sBAAsBA,KAAK,uBAC3B,cAAcA,KAAK,aAEjBC,QAAS,mBAAEC,MAAMC,KAAK,UACtBC,QACA,mBAAE,wBAAwBC,OAC1B,mBAAE,gBAAgBA,MAClBC,SACA,mBAAE,oBAAoBD,MACtBE,SAAU,mBAAE,iBAAiBF,0BAC/B,oBAAoBG,2BACpB,qBAAqBC,OAEJC,cAAKC,KAAK,CAAC,CAC1BC,WAAY,wBACZC,KAAM,CACFZ,OAAQA,OACRM,QAASA,QACTH,OAAQA,OACRE,QAASA,YAIJ,GAAGQ,MAAK,SAAUC,4BACxB,oBAAoBN,2BACrB,qBAAqBD,2BACrB,sBAAsBQ,SAAShB,eAAQe,OAAOE,8BAC9C,uBAAuBjB,KAAKe,OAAOG,mCACnC,2BAA2BlB,KAAKe,OAAOI,uCACvC,sBAAsBnB,KAAKe,OAAOK,kCAClC,cAAcpB,KAAK,IAAMe,OAAOM,KAAKC,YAAY,OACpDC,MAAK,SAAUC,GACdC,MAAMD,EAAEP,QAAFO,mEAENE,SAASC"}