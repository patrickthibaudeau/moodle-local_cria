{"version":3,"file":"content.min.js","sources":["../src/content.js"],"sourcesContent":["import $ from 'jquery';\nimport notification from 'core/notification';\nimport ajax from 'core/ajax';\n\nexport const init = () => {\n    delete_content();\n};\n\n/**\n * Delete a content\n */\nfunction delete_content() {\n\n    $(\".delete-content\").off();\n    $(\".delete-content\").on('click', function () {\n        var id = $(this).data('id');\n\n        notification.confirm('Delete',\n            'Are you sure you want to delete this content? It cannot be recovered',\n            'Delete',\n            M.util.get_string('cancel', 'local_cria'), function () {\n                //Delete the record\n                var delete_content = ajax.call([{\n                    methodname: 'cria_content_delete',\n                    args: {\n                        id: id\n                    }\n                }]);\n\n                delete_content[0].done(function ($result) {\n                    if ($result == 200) {\n                        location.reload();\n                    } else {\n                        alert($result);\n                    }\n                }).fail(function () {\n                    alert('An error has occurred. The record was not deleted');\n                });\n            });\n\n    });\n}"],"names":["off","on","id","this","data","confirm","M","util","get_string","ajax","call","methodname","args","done","$result","location","reload","alert","fail"],"mappings":"8aAIoB,yBASd,mBAAmBA,0BACnB,mBAAmBC,GAAG,SAAS,eACzBC,IAAK,mBAAEC,MAAMC,KAAK,4BAETC,QAAQ,SACjB,uEACA,SACAC,EAAEC,KAAKC,WAAW,SAAU,eAAe,WAElBC,cAAKC,KAAK,CAAC,CAC5BC,WAAY,sBACZC,KAAM,CACFV,GAAIA,OAIG,GAAGW,MAAK,SAAUC,SACd,KAAXA,QACAC,SAASC,SAETC,MAAMH,YAEXI,MAAK,WACJD,MAAM"}