{"version":3,"file":"bot_config.min.js","sources":["../src/bot_config.js"],"sourcesContent":["import $ from 'jquery';\nimport notification from 'core/notification';\nimport ajax from 'core/ajax';\nimport ModalFactory from 'core/modal_factory';\n\nexport const init = () => {\n    delete_bot();\n    share_bot();\n};\n\n/**\n * Delete a content\n */\nfunction delete_bot() {\n\n    $(\".delete-bot\").off();\n    $(\".delete-bot\").on('click', function () {\n        var id = $(this).data('id');\n\n        notification.confirm('Delete',\n            'Are you sure you want to delete this bot? All content will also be deleted. It will not be possible to recover.',\n            'Delete',\n            M.util.get_string('cancel', 'local_cria'), function () {\n                //Delete the record\n                var delete_content = ajax.call([{\n                    methodname: 'cria_bot_delete',\n                    args: {\n                        id: id\n                    }\n                }]);\n\n                delete_content[0].done(function () {\n                    location.reload();\n                }).fail(function () {\n                    alert('An error has occurred. The record was not deleted');\n                });\n            });\n\n    });\n}\n\nfunction share_bot() {\n    $(\".share-bot\").off();\n    $(\".share-bot\").on('click', function () {\n        let bot_id = $(this).data('id');\n        let share = $(this).data('share');\n        let theme = $(this).data('theme');\n        theme = theme.replace(/\\#/g, \"\");\n        $('#share-code').html(`<code> \\t&lt;script type=\"text/javascript\" src=\"${share}/${bot_id}/load\" async&gt; \\t&lt;/script&gt;</code>`);\n        $('#shareModal').modal('show');\n    });\n}"],"names":["off","on","id","this","data","confirm","M","util","get_string","ajax","call","methodname","args","done","location","reload","fail","alert","bot_id","share","theme","replace","html","modal"],"mappings":"2gBAKoB,yBAUd,eAAeA,0BACf,eAAeC,GAAG,SAAS,eACrBC,IAAK,mBAAEC,MAAMC,KAAK,4BAETC,QAAQ,SACjB,kHACA,SACAC,EAAEC,KAAKC,WAAW,SAAU,eAAe,WAElBC,cAAKC,KAAK,CAAC,CAC5BC,WAAY,kBACZC,KAAM,CACFV,GAAIA,OAIG,GAAGW,MAAK,WACnBC,SAASC,YACVC,MAAK,WACJC,MAAM,kFAQpB,cAAcjB,0BACd,cAAcC,GAAG,SAAS,eACpBiB,QAAS,mBAAEf,MAAMC,KAAK,MACtBe,OAAQ,mBAAEhB,MAAMC,KAAK,SACrBgB,OAAQ,mBAAEjB,MAAMC,KAAK,SACzBgB,MAAQA,MAAMC,QAAQ,MAAO,wBAC3B,eAAeC,+DAAwDH,kBAASD,yEAChF,eAAeK,MAAM"}